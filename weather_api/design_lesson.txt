For applications not to be tightly coupled, Domain logic should not speak HTTP or JSON.
That is Services speak values and errors while Handlers speak HTTP

To make this application work and not tightly coupled, it needs three layers
    i.      HTTP Handler
    ii.     Service (testable, returns value)
    iii.    Adapters(HTTP client, cache)

Let the service return a Go struct

Context is important in your server as it carries request scoped information.
    Which means it carries info (everything) related to the current request.
    When a client disconnects. The request from that client is canceled.
    Otherwise your server will keep working on the request, wasting resources.

Writing to the ResponseWriter
    Headers must be set before WriteHeader is used.

Redis
    Redis is a shared, in memory key-value store with expiration


Tests
    Unit tests must control their inputs
    If a tes fails because of the environment, it's a bad test.
    Libraries should never reach into the environment.

    Do not contruct dependencies inside the thing you want to test.
    Unit tests should not work around dependencies. They should make
    dependencies unnecessary.